<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CHARLIE'S 6TH BDAY</title>
    <meta property="og:title" content="CHARLIE'S 6TH BDAY" />
    <meta
      property="og:description"
      content="You're invited to Charlie's 6th Birthday! Tap to RSVP."
    />
    <meta property="og:image" content="https://i.imgur.com/L5LhtG5.png" />
    <meta property="og:type" content="website" />
    <style>
      body {
        background: #f0f2f7;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }
      .scene {
        perspective: 1400px;
        text-align: center;
      }
      .envelope {
        width: 320px;
        height: 230px;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.8s ease;
        cursor: pointer;
      }
      .face {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        backface-visibility: hidden;
        border-radius: 6px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      }
      .front {
        background: linear-gradient(#fff, #f3f4f6);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5em;
        font-weight: bold;
        color: #444;
        padding: 3px;
      }
      .back {
        transform: rotateY(180deg);
        background: linear-gradient(#fff, #f3f4f6);
      }
      .flap {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 45%;
        background: linear-gradient(#fff, #e6e7eb);
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top center;
        transition: transform 0.8s ease;
        z-index: 2;
        box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.15),
          0 3px 6px rgba(0, 0, 0, 0.2);
      }
      .pocket {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 55%;
        background: #f8f9fb;
      }
      .card {
        position: absolute;
        width: 280px;
        height: 400px;
        background: white;
        left: 50%;
        top: 90%; /* your current placement */
        transform: translate(-50%, 0);
        opacity: 0;
        transition: transform 0.9s ease, opacity 0.4s ease;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.18);
        z-index: 3;
      }
      .scene.spin .envelope {
        transform: rotateY(180deg);
      }
      .scene.open .flap {
        transform: rotateX(-160deg);
      }
      .scene.slide .card {
        opacity: 1;
        transform: translate(-50%, -120%);
      }

      /* RSVP buttons + hint */
      .rsvp-hint {
        font-size: 1.05em;
        font-weight: bold;
        color: #444;
        margin: 12px 0 6px;
        opacity: 0;
        transition: opacity 0.4s ease;
      }

      .buttons {
        margin-top: 8px;
        display: none;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
      }
      .buttons.show {
        display: flex;
      }

      .buttons button {
        display: flex;
        align-items: center;
        gap: 6px; /* space between paw and text if you add emoji */
        padding: 10px 15px;
        font-size: 1em;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: box-shadow 0.3s ease, transform 0.2s ease;
        /* Paw print cursor on desktop */
        cursor: url("https://i.imgur.com/NuWrQ23.png") 16 16, pointer;
        -webkit-tap-highlight-color: transparent; /* mobile: remove blue tap */
      }

      /* Hover glow (desktop only) */
      @media (hover: hover) and (pointer: fine) {
        .buttons button:hover {
          box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
          transform: scale(1.05);
        }
      }

      /* Tap feedback on mobile */
      .buttons button:active {
        transform: scale(0.97);
        box-shadow: 0 0 12px rgba(255, 215, 0, 0.6);
      }

      .attend {
        background-color: #72c2c9;
        color: white;
      }
      .decline {
        background-color: #ff7a24;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="scene" id="scene">
      <div class="envelope">
        <div class="face front">You're Invited üêæ</div>
        <div class="face back">
          <div class="flap"></div>
          <div class="pocket"></div>
        </div>
      </div>

      <div class="card" id="card">
        <img
          src="https://i.imgur.com/dBFKe6Y.png"
          alt="Card"
          style="width: 100%; height: 100%; object-fit: contain"
        />
      </div>

      <!-- Tap-to-RSVP hint (shows when buttons appear) -->
      <div class="rsvp-hint" id="rsvpHint">üêæ Tap to RSVP üêæ</div>

      <!-- Single buttons block (removed duplicate id) -->
      <div class="buttons" id="buttons">
        <button class="attend">Attending</button>
        <button class="decline">Not Attending</button>
      </div>
    </div>

    <script>
      const scene = document.getElementById("scene");
      const buttons = document.getElementById("buttons");
      const rsvpHint = document.getElementById("rsvpHint");

      scene.addEventListener("click", () => {
        if (!scene.classList.contains("spin")) {
          scene.classList.add("spin");
          setTimeout(() => scene.classList.add("open"), 800);
          setTimeout(() => {
            scene.classList.add("slide");
            buttons.classList.add("show");

            // Fade in "Tap to RSVP" when buttons appear
            rsvpHint.style.opacity = "1";
          }, 1600);
        }
      });

      (function () {
        const phone = "+16166489671";
        const ua = navigator.userAgent || "";
        const isIOS = /iPad|iPhone|iPod/.test(ua);

        window.sendRSVP = function (status) {
          const body = `RSVP: ${status} Charlie's 6th Birthday Party.`;
          const encoded = encodeURIComponent(body);
          const link = isIOS
            ? `sms:${phone}&body=${encoded}`
            : `sms:${phone}?body=${encoded}`;
          try {
            window.location.href = link;
          } catch (err) {
            alert(`Please text ${phone} with: ${body}`);
          }
        };

        document.querySelector(".attend").addEventListener("click", (e) => {
          e.stopPropagation();
          sendRSVP("Attending");
        });
        document.querySelector(".decline").addEventListener("click", (e) => {
          e.stopPropagation();
          sendRSVP("Not Attending");
        });
      })();
    </script>
  </body>
</html>
